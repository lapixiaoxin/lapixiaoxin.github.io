---
title: "Git 使用"
date: 2025-12-29
categories: 
  - life
tags: 
  - jekyll
  - github-pages
---

# 基础操作

## 初始化

配置用户名和邮箱

```jsx
# 设置全局用户名和邮箱（适用于所有仓库）
git config --global user.name "你的用户名"
git config --global user.email "你的邮箱@example.com"
```

配置ssh公钥

```jsx
# 生成密钥（推荐 ed25519 算法）：
ssh-keygen -t ed25519 -C "your_email@example.com"
# 按回车使用默认路径，可设置密码（可选）

# 将公钥 (~/.ssh/id_ed25519.pub) 添加到 Git 平台（如 GitHub/GitLab）
```

查看配置

```jsx
git config --list
# 或查看单个配置：
git config user.name
git config user.email
```

创建远程仓库并初始化

```java
cd /path/to/your/project
touch .gitignore             # 创建忽略文件
# 编辑 .gitignore，添加你需要忽略的内容
git init
git remote add origin git@github.com:your-username/your-repo.git
git add .
git commit -m "Initial commit"
git branch -M main
git push -u origin main
```

另外也可以在github上手动创建仓库，然后再使用git clone拉到本地，然后再在本地的IDEA工具中进行 add和push。

.gitignore文件编写方法：https://www.toptal.com/developers/gitignore

### **一、仓库初始化与克隆**

- **初始化本地仓库**（在当前目录创建 Git 仓库）`git init`
- **克隆远程仓库**（从远程拉取完整项目到本地）`git clone <远程仓库地址>`例：`git clone https://github.com/username/repo.git`

### **二、文件暂存与提交**

- **查看工作区状态**（哪些文件被修改 / 未跟踪）`git status`
- **将文件添加到暂存区**（准备提交）
    - 添加单个文件：`git add <文件名>`（例：`git add README.md`）
    - 添加所有修改 / 新增文件：`git add .`（注意：不包括删除的文件）
    - 添加删除的文件：`git add -u`
- **提交暂存区到本地仓库**（附带提交说明）`git commit -m "提交说明"`（说明需简洁描述修改内容，例：`git commit -m "修复登录按钮样式"`）
- **修改上次提交**（如果上次提交遗漏内容，可合并到上次提交，不产生新记录）`git commit --amend`

### **三、分支操作**

- **查看本地分支**（当前分支前有  标记）`git branch`
- **查看所有分支**（包括远程分支）`git branch -a`
- **创建新分支**`git branch <分支名>`（例：`git branch dev`）
- **切换分支**`git checkout <分支名>`（旧命令） 或 `git switch <分支名>`（新命令，推荐）
- **创建并切换到新分支**（常用）`git checkout -b <分支名>`（旧） 或 `git switch -c <分支名>`（新）
- **合并分支**（将目标分支合并到当前分支）`git merge <目标分支名>`（例：在 `main` 分支合并 `dev` 分支：`git merge dev`）
- **删除本地分支**（需先切换到其他分支）`git branch -d <分支名>`（删除已合并的分支）`git branch -D <分支名>`（强制删除未合并的分支，谨慎使用）
- **删除远程分支**`git push origin --delete <分支名>`

### **四、远程仓库交互**

- **查看远程仓库信息**（地址、别名等）`git remote -v`
- **关联远程仓库**（本地仓库首次关联远程时使用）`git remote add origin <远程仓库地址>`（`origin` 是远程仓库的默认别名）
- **拉取远程分支代码**（同步远程最新内容到本地，会自动合并）`git pull origin <远程分支名>`（例：拉取远程 `main` 分支：`git pull origin main`）
- **推送本地分支到远程**（首次推送需关联远程分支）`git push -u origin <本地分支名>`（`u` 表示关联，后续可直接 `git push`）例：推送本地 `dev` 分支到远程：`git push -u origin dev`
- **强制推送**（覆盖远程分支，谨慎使用！通常用于修正错误提交）`git push -f origin <分支名>`

### **五、版本回退与撤销**

- **查看提交历史**（获取提交 ID）`git log`（详细历史，按 `q` 退出）`git log --oneline`（简洁显示，每行一个提交）
- **回退到指定版本**（会删除指定版本后的所有提交记录，谨慎使用）`git reset --hard <提交ID>`（提交 ID 可从 `git log` 中获取前几位）
- **撤销工作区修改**（恢复文件到最近一次提交 / 暂存的状态）`git checkout -- <文件名>` 或 `git restore <文件名>`（新命令）
- **撤销暂存区修改**（将文件从暂存区移回工作区）`git reset HEAD <文件名>` 或 `git restore --staged <文件名>`（新命令）
- **暂存工作区内容**（临时保存当前修改，用于切换分支时不提交代码）
    - 暂存：`git stash`
    - 查看暂存列表：`git stash list`
    - 恢复暂存并删除记录：`git stash pop`
    - 恢复暂存但保留记录：`git stash apply`

### **六、其他常用命令**

- **查看文件修改差异**
    - 工作区与暂存区的差异：`git diff <文件名>`
    - 暂存区与本地仓库的差异：`git diff --cached <文件名>`
- **创建标签**（标记重要版本，如发布版本）`git tag <标签名>`（例：`git tag v1.0`）推送标签到远程：`git push origin <标签名>`
- **忽略文件**（创建 `.gitignore` 文件，添加无需跟踪的文件 / 目录，如日志、依赖包）例：`.gitignore` 中添加 `node_modules/`（忽略 `node_modules` 目录）

`- feat: new feature
- fix: fix bug
- refactor: modifications other than features or fixes
- release: release a new version
- style: format or beautify code without effects on main function
- chore: modifications of dependencies or build tools
- docs: write documentation(e.g. README.md)`